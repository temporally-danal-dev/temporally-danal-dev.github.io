(function(t){function e(e){for(var o,r,a=e[0],c=e[1],l=e[2],d=0,b=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&b.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(b.length)b.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==s[c]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},s={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0774":function(t,e,n){},2084:function(t,e,n){"use strict";n("0774")},"256a":function(t,e,n){"use strict";n("79d6")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"body"},[n("Rule"),n("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"20px"}},[n("router-view")],1)],1)])},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("button",{attrs:{type:"button"},on:{click:t.onClick}},[t._v("Rule")]),t.show?n("div",{staticClass:"modal"},[n("div",{staticClass:"modalBody",staticStyle:{"text-align":"left",padding:"0.5rem"}},[n("button",{staticClass:"closeBtn",on:{click:t.onClick}},[t._v("X")]),t._m(0),n("hr"),t._m(1)])]):t._e()])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Rule")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"body"},[n("h2",[t._v("Matching Rule")]),n("ul",[n("li",[t._v("Basically matching is "),n("strong",[t._v("Random")]),t._v(".")]),n("li",[t._v(" Decision about who is the first is also "),n("strong",[t._v("Random")]),t._v(" too. ")]),n("li",[t._v(" If you send correct answer earlier,"),n("br"),t._v(" you win. ")])]),n("h2",[t._v("Ingame Rule")]),n("ul",[n("li",[t._v("Each turn has 90 seconds")]),n("li",[t._v(" If you don't submit your answer in time, "),n("br"),t._v("your answer will be generated "),n("strong",[t._v("randomly")])]),n("li",[t._v(" Letter fited perfect will be painted "),n("span",{staticStyle:{color:"green"}},[t._v("Green")])]),n("li",[t._v(" Letter included in answer will be painted "),n("span",{staticStyle:{color:"yellow"}},[t._v("Yellow")])]),n("li",[t._v(" But if the number of letter in your submit is over"),n("br"),t._v("the number of letter included in answer, "),n("br"),t._v(" It will be painted "),n("span",{staticStyle:{color:"grey"}},[t._v("Grey")])]),n("li",[t._v(" Else, letter will be painted "),n("span",{staticStyle:{color:"grey"}},[t._v("Grey")])])]),n("h2",[t._v("Hint")]),n("ul",[n("li",[t._v("You can use your Hint one time in a match")]),n("li",[t._v(" If you hava a chance to use hint, "),n("br"),t._v("then hint buttons will be displayed ")]),n("li",[t._v(" When you click hint button,"),n("br"),t._v("you can see which letter is in your choice ")]),n("li",[t._v("This hint will be opened to both players")])])])}],c={name:"Rule",data:function(){return{show:!1}},methods:{onClick:function(){!0===this.show?this.show=!1:this.show=!0}}},l=c,u=(n("2084"),n("2877")),d=Object(u["a"])(l,r,a,!1,null,null,null),b=d.exports,h={name:"App",components:{Rule:b}},v=h,m=(n("034f"),Object(u["a"])(v,s,i,!1,null,null,null)),y=m.exports,C=(n("b0c0"),n("8c4f")),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[t._m(0),t._m(1),n("div",{staticStyle:{"margin-top":"100px"}},[n("button",{staticClass:"redirectBtn btn btn-secondary",on:{click:t.goTutorial}},[t._v(" Tutorial ")])]),n("div",{staticStyle:{"margin-top":"20px"}},[n("button",{staticClass:"redirectBtn btn btn-secondary",on:{click:t.fetchMatch}},[t._v(" Match ")])])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-row"},[n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("W")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("O")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("R")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("D")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("L")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("E")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-row"},[n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("B")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("A")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("T")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("T")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("L")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("E")])])}],g=(n("38cf"),n("bc3a")),p=n.n(g),_={name:"Home",data:function(){return{key:"",matched:!1}},methods:{insertWaiting:function(){var t,e=document.querySelector("h2");null===e&&(t="<h2>matching progressing...</h2>",document.querySelector("#home").insertAdjacentHTML("beforeend",t))},goTutorial:function(){this.$router.push({name:"Tutorial"})},fetchMatch:function(){var t=this;this.insertWaiting(),this.matched=!0,p()({method:"GET",url:"https://mighty-basin-66401.herokuapp.com/matching/".concat(this.key)}).then((function(e){var n=document.querySelector("h2");"TIMEOUT"===e.data.responseResult?(alert("timed out"),document.querySelector("#home").removeChild(n)):"CANCEL"===e.data.responseResult?(alert("canceled"),document.querySelector("#home").removeChild(n)):(sessionStorage.setItem("me",e.data.me),sessionStorage.setItem("roomId",e.data.roomId),sessionStorage.setItem("opponent",e.data.opponent),t.$router.push({name:"Match"}))})).catch((function(t){console.log(t),alert("can not make it");var e=document.querySelector("h2");document.querySelector("#home").removeChild(e)}));for(var e=function(t){var e=500*t,n=document.querySelector("h2");setTimeout((function(){n.textContent="matching progressing"+".".repeat(t%4)}),e)},n=0;n<60;n++)e(n)},unLoadEvent:function(t){t.preventDefault(),t.returnValue="",this.matched&&p()({method:"GET",url:"https://mighty-basin-66401.herokuapp.com/delete/".concat(this.key)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},beforeMount:function(){this.key=Math.floor(899999*Math.random())+1e5,window.addEventListener("beforeunload",this.unLoadEvent)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.unLoadEvent)}},w=_,x=(n("cccb"),Object(u["a"])(w,k,f,!1,null,null,null)),S=x.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._m(1),n("div",{staticStyle:{"margin-top":"30px"},attrs:{id:"keyboard-cont"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error-row"},[n("strong",[t._v(t._s(t.errorMsg))])]),n("div",{staticClass:"first-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("q")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("w")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("e")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("r")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("t")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("y")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("u")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("i")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("o")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("p")])]),n("div",{staticClass:"second-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("a")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("s")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("d")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("f")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("g")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("h")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("j")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("k")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("l")])]),n("div",{staticClass:"third-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("Del")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("z")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("x")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("c")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("v")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("b")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("n")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("m")]),n("button",{staticClass:"keyboard-button",on:{click:t.onClick}},[t._v("Enter")])])])])},E=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-row"},[n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("T")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("U")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("T")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("O")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("R")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("I")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("A")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"grey"}},[t._v("L")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"game-board"}},[n("div",{staticClass:"header"},[n("h2",[t._v("ANSWERS")])])])}],T=n("b85c"),K=(n("a630"),n("3ca3"),{name:"Tutorial",data:function(){return{answer:"abcde",cGuess:[],nLetter:0,gCount:0,errorMsg:"",error:!1}},methods:{insertLetter:function(t){if(5!==this.nLetter){t=t.toLowerCase();var e=document.getElementsByClassName("letter-row")[this.gCount];if(e){var n=e.children[this.nLetter];n.textContent=t,n.classList.add("filled-box"),this.cGuess.push(t),this.nLetter+=1}}},deleteLetter:function(){var t=document.getElementsByClassName("letter-row")[this.gCount],e=t.children[this.nLetter-1];e.textContent="",e.classList.remove("filled-box"),this.cGuess.pop(),this.nLetter-=1},checkGuess:function(){var t,e=this,n=document.getElementsByClassName("letter-row")[this.gCount],o="",s=Array.from(this.answer),i=Object(T["a"])(this.cGuess);try{for(i.s();!(t=i.n()).done;){var r=t.value;o+=r}}catch(l){i.e(l)}finally{i.f()}if(5!==o.length)return this.error=!0,void(this.errorMsg="Not enough letters!");this.insertInput();for(var a=0;a<6;a++)if(a<5)(function(){var t="",o=n.children[a],i=e.cGuess[a],r=s.indexOf(e.cGuess[a]);t=-1===r?"grey":e.cGuess[a]===s[a]?"green":"yellow";var c=250*a;setTimeout((function(){o.style.backgroundColor=t,e.shadeKeyBoard(i,t)}),c)})();else{var c=250*a;setTimeout((function(){o===e.answer&&(alert("You guessed right! Game over!"),e.gCount=0,e.$router.push({name:"Home"}))}),c)}this.gCount+=1,this.cGuess=[],this.nLetter=0},shadeKeyBoard:function(t,e){var n,o=Object(T["a"])(document.getElementsByClassName("keyboard-button"));try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.textContent===t){var i=s.style.backgroundColor;if("green"===i)return;if("yellow"===i&&"green"!==e)return;s.style.backgroundColor=e;break}}}catch(r){o.e(r)}finally{o.f()}},onClick:function(t){var e=String(t.target.textContent);this.error=!1,this.errorMsg="","Del"!==e||0===this.nLetter?"Enter"!==e?1===e.length&&e.charCodeAt(0)>96&&e.charCodeAt(0)<123&&this.insertLetter(e):this.checkGuess():this.deleteLetter()},insertInput:function(){var t=document.getElementById("game-board"),e=document.createElement("div");e.className="letter-row";for(var n=0;n<5;n++){var o=document.createElement("div");o.className="letter-box",e.appendChild(o)}t.appendChild(e)},onKeyup:function(t){this.error=!1,this.errorMsg="";var e=String(t.key);"Backspace"!==e||0===this.nLetter?"Enter"!==e?(1===e.length&&e.charCodeAt(0)>96&&e.charCodeAt(0)<123&&this.insertLetter(e),1===e.length&&e.charCodeAt(0)>64&&e.charCodeAt(0)<91&&this.insertLetter(e)):this.checkGuess():this.deleteLetter()}},mounted:function(){this.insertInput(),document.addEventListener("keyup",this.onKeyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.onKeyup)}}),I=K,O=(n("256a"),Object(u["a"])(I,L,E,!1,null,null,null)),N=O.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{attrs:{id:"game-board"}},[n("div",{staticClass:"header"},[n("h2",[t._v("ANSWERS")]),n("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}},[n("div",[n("strong",[t._v("Timer: "+t._s(t.timer))])])])])]),!0===t.myTurn?n("div",{staticClass:"turn-box",staticStyle:{"background-color":"green"}},[n("strong",[t._v(" Your Turn ")])]):n("div",{staticClass:"turn-box",staticStyle:{"background-color":"grey"}},[n("strong",[t._v(" Opponent Turn ")])]),n("div",{attrs:{id:"keyboard-cont"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error-row"},[t._v(t._s(t.errorMsg))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.myTurn&&t.hint,expression:"myTurn && hint"}],staticClass:"hint-row"}),n("div",{staticClass:"first-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("q")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("w")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("e")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("r")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("t")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("y")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("u")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("i")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("o")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("p")])]),n("div",{staticClass:"second-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("a")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("s")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("d")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("f")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("g")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("h")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("j")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("k")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("l")])]),n("div",{staticClass:"third-row"},[n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("Del")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("z")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("x")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("c")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("v")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("b")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("n")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("m")]),n("button",{staticClass:"keyboard-button",on:{click:t.onKeyboardClick}},[t._v("Enter")])])])])},M=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-row"},[n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("M")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("A")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("T")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"green"}},[t._v("C")]),n("div",{staticClass:"title-box",staticStyle:{"background-color":"yellow"}},[t._v("H")])])}],G=(n("99af"),n("e9c4"),n("c6e1")),j=n.n(G),A=n("cc7d"),H=n.n(A),R={name:"Match",data:function(){return{answerLength:null,myNickname:"",opponentNickname:"",stompClient:null,roomId:"",currentGuess:[],nextLetter:0,guessCount:0,myTurn:!1,hint:!0,timer:0,timerId:null,error:!1,errorMsg:"",startCnt:0}},methods:{onError:function(t){var e=JSON.parse(t.body);if(this.erorr=!0,this.erorrMsg=e.ErrorMsg,"TURN"===e.ErrorType)this.myTurn=!1;else if("HINT"===e.ErrorType)this.hint=!1;else{while(this.currentGuess.length>0)this.deleteLetter();this.myTurn=!0}},onStart:function(t){if(0===this.startCnt){var e=JSON.parse(t.body);this.answerLength=e.answerLength,e.nickname===this.me?this.myTurn=!0:this.myTurn=!1;var n=this.me!==e.nickname?"Opponent's":"Your";this.timer=90,this.insertBox(n),this.insertHint(),this.startCnt=1}},onSubmit:function(t){var e=this,n=JSON.parse(t.body),o=document.getElementsByClassName("letter-row")[this.guessCount],s=this.me===n.nickname?"Your":"Opponent's",i=!0===n.timeOut?"timeOut":"submit";this.insertBox(s,i),this.timer=90;for(var r=function(t){var s="",i=o.children[t],r=n.word[t];s="0"===n.matchStatus[t]?"grey":"1"===n.matchStatus[t]?"yellow":"green";var a=250*t;setTimeout((function(){i.style.backgroundColor=s,i.textContent=r,e.shadeKeyBoard(r,s)}),a)},a=0;a<this.answerLength;a++)r(a);this.guessCount+=1,this.currentGuess=[],this.nextLetter=0,n.nickname===this.me?this.myTurn=!0:this.myTurn=!1},onHint:function(t){var e=this,n=JSON.parse(t.body),o=document.getElementsByClassName("letter-row")[this.guessCount],s=this.me===n.nickname?"Your":"Opponent's";"Your"===s&&(this.hint=!1),this.insertBox(s,"hint");for(var i=function(t){var s="",i=o.children[t],r=n.word[t];s="0"===n.matchStatus[t]?"grey":"1"===n.matchStatus[t]?"yellow":"green";var a=250*t;setTimeout((function(){i.style.backgroundColor=s,i.textContent=r,e.shadeKeyBoard(r,s)}),a)},r=0;r<this.answerLength;r++)i(r);this.guessCount+=1,this.currentGuess=[],this.nextLetter=0},onEnd:function(t){for(var e=this,n=JSON.parse(t.body),o=document.getElementsByClassName("letter-row")[this.guessCount],s=0;s<this.answerLength+1;s++)if(s<this.answerLength)(function(){var t="green",i=o.children[s],r=n.word[s],a=250*s;setTimeout((function(){i.style.backgroundColor=t,i.textContent=r,e.shadeKeyBoard(r,t)}),a)})();else{var i=250*s;setTimeout((function(){var t;t=n.nickname===e.me||""===n.nickname?"You":"Opponent",""===n.nickname?alert("The answer was ".concat(n.word.toUpperCase(),", Opponent left game")):alert("The answer was ".concat(n.word.toUpperCase(),", winner is ").concat(t)),clearInterval(e.timerId),e.timerId=null,e.guessCount+=1,e.currentGuess=[],e.nextLetter=0,e.stompClient.disconnect(),e.stompClient=null,e.$router.push({name:"Home"})}),i)}},onConnected:function(){this.stompClient.subscribe("/sub/".concat(this.roomId,"/start"),this.onStart),this.stompClient.subscribe("/sub/".concat(this.roomId,"/submit"),this.onSubmit),this.stompClient.subscribe("/sub/".concat(this.roomId,"/end"),this.onEnd),this.stompClient.subscribe("/sub/".concat(this.me,"/error"),this.onError),this.stompClient.subscribe("/sub/".concat(this.roomId,"/hint"),this.onHint);var t={nickname:this.me};this.stompClient.send("/pub/".concat(this.roomId,"/join"),JSON.stringify(t),{})},onFailed:function(t){console.log("socket connection failed"),console.log(t)},submit:function(){var t,e="",n=Object(T["a"])(this.currentGuess);try{for(n.s();!(t=n.n()).done;){var o=t.value;e+=o}}catch(i){n.e(i)}finally{n.f()}if(e.length!==this.answerLength)return this.error=!0,void(this.errorMsg="Not enough letters!");var s={nickname:this.me,word:e};this.stompClient.send("/pub/".concat(this.roomId,"/submit"),JSON.stringify(s)),this.myTurn=!1},insertLetter:function(t){if(this.nextLetter!==this.answerLength){t=t.toLowerCase();var e=document.getElementsByClassName("letter-row")[this.guessCount];if(e){var n=e.children[this.nextLetter];n.textContent=t,n.classList.add("filled-box"),this.currentGuess.push(t),this.nextLetter+=1}}},deleteLetter:function(){var t=document.getElementsByClassName("letter-row")[this.guessCount];if(t){var e=t.children[this.nextLetter-1];e.textContent="",e.classList.remove("filled-box"),this.currentGuess.pop(),this.nextLetter-=1}},shadeKeyBoard:function(t,e){var n,o=Object(T["a"])(document.getElementsByClassName("keyboard-button"));try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.textContent===t){var i=s.style.backgroundColor;if("green"===i)return;if("yellow"===i&&"green"!==e)return;s.style.backgroundColor=e;break}}}catch(r){o.e(r)}finally{o.f()}},onKeyboardClick:function(t){if(!0===this.myTurn){var e=String(t.target.textContent);if(this.error=!1,this.errorMsg="","Del"===e&&0!==this.nextLetter)return void this.deleteLetter();if("Enter"===e)return void this.submit();if(!(1===e.length&&e.charCodeAt(0)>96&&e.charCodeAt(0)<123))return;this.insertLetter(e)}},onHintClick:function(t){if(!0===this.myTurn&&!0===this.hint){var e=t.target.id,n={nickname:this.me,location:e};this.stompClient.send("/pub/".concat(this.roomId,"/hint"),JSON.stringify(n))}else this.error=!0,this.errorMsg="you can't use hint"},insertBox:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"submit",n=document.getElementById("game-board"),o=document.createElement("div");o.textContent="".concat(t,"hint"===e?" hint":"timeout"===e?" time out":" answer");var s=document.createElement("div");s.className="letter-row";for(var i=0;i<this.answerLength;i++){var r=document.createElement("div");r.className="letter-box",s.appendChild(r)}n.appendChild(o),n.appendChild(s),s.scrollIntoView()},insertHint:function(){for(var t=document.querySelector(".hint-row"),e=0;e<this.answerLength;e++){var n=document.createElement("button");n.className="keyboard-button",n.textContent="hint",n.id=e,n.addEventListener("click",this.onHintClick),t.appendChild(n)}},onKeyup:function(t){if(!0===this.myTurn){var e=String(t.key);if(this.error=!1,this.errorMsg="","Backspace"===e&&0!==this.nLetter)return void this.deleteLetter();if("Enter"===e)return void this.submit();1===e.length&&e.charCodeAt(0)>96&&e.charCodeAt(0)<123&&this.insertLetter(e),1===e.length&&e.charCodeAt(0)>64&&e.charCodeAt(0)<91&&this.insertLetter(e)}}},mounted:function(){var t=this;this.roomId=sessionStorage.getItem("roomId"),this.me=sessionStorage.getItem("me"),this.opponent=sessionStorage.getItem("opponent");var e=new H.a("https://mighty-basin-66401.herokuapp.com/socket");this.stompClient=j.a.over(e),this.stompClient.connect({roomId:this.roomId,nickname:this.me},this.onConnected,this.onFailed),window.addEventListener("beforeunload",this.unLoadEvent),this.timerId=setInterval((function(){t.timer>0&&t.timer--}),1e3),document.addEventListener("keyup",this.onKeyup)},beforeDestroy:function(){document.removeEventListener("keyup",this.onKeyup),this.startCnt=0},beforeRouteLeave:function(t,e,n){this.stompClient&&this.stompClient.disconnect(),sessionStorage.clear(),n()}},$=R,q=(n("e5d5"),Object(u["a"])($,B,M,!1,null,null,null)),D=q.exports;o["a"].use(C["a"]);var J=[{path:"/",name:"Home",component:S},{path:"/tutorial",name:"Tutorial",component:N},{path:"/match",name:"Match",component:D}],Y=new C["a"]({mode:"history",base:"/",routes:J});Y.beforeEach((function(t,e,n){"Match"===t.name?"Home"===e.name?n():n({name:"Home"}):n()}));var P=Y;o["a"].config.productionTip=!1,new o["a"]({router:P,render:function(t){return t(y)}}).$mount("#app")},"5ced":function(t,e,n){},"79d6":function(t,e,n){},"85ec":function(t,e,n){},cccb:function(t,e,n){"use strict";n("5ced")},e5d5:function(t,e,n){"use strict";n("f2ef")},f2ef:function(t,e,n){}});
//# sourceMappingURL=app.9e3c40d2.js.map